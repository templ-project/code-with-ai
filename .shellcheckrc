# Google Bash Style Guide configuration
# Treat files as bash unless a shebang says otherwise
shell=bash

# Follow sourced files; set search path relative to each script
external-sources=true

# Style enforcement based on opensearch.sh patterns
# Enable comprehensive checks for best practices and consistency
enable=quote-safe-variables,check-unassigned-uppercase,require-variable-braces,check-extra-masked-returns,check-set-e-suppressed,add-default-case,check-empty-case,deprecate-which

# Disable checks that conflict with the established codebase style
# SC1091: Can't follow non-constant source (sourced files with variables)
# SC2155: Declare and assign separately (codebase uses combined declare/assign)
# SC2015: Note that A && B || C is not if-then-else (used intentionally for concise logic)
# SC2250: Preffer puting braces around variables even when not required
# SC2311: Bash implicitly disabled set -e for this function invocation because it's inside a command substitution. Add set -e; before it or enable inherit_errexit.
# SC2310: This function is invoked in an 'if' condition so set -e will be disabled. Invoke separately if failures should cause the script to exit.
# SC2312: Consider invoking this command separately to avoid masking its return value (or use '|| true' to ignore).
disable=SC1091,SC2155,SC2015,SC2250,SC2311,SC2310,SC2312

# Show info level and up to catch style issues (Google Style Guide emphasis)
severity=info

# Format configuration
format=tty
